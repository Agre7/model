!function(){function n(n){function t(n,t,f){f=f||this,n=n instanceof Array?n:[n];var i=e(function(){var e=n.map(function(n){return p[n]});o(e)&&t.apply(f,e)});return i(),n.forEach(function(n){r(n,i)}),i}function e(n){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,n()},0))}}function o(n){return!n.some(function(n){return"undefined"==typeof n||null===n})}function r(n,t,e){e=e||this,f(n).push(t),i(n,e)}function f(n){return d[n]||(d[n]=[])}function i(n,t){n in l||(l[n]=!0,p[n]=s[n],Object.defineProperty(s,n,{get:function(){return p[n]},set:function(e){var o=p[n];p[n]=e,f(n).forEach(function(n){n.call(t,e,o)})}}))}function u(n){for(var t in d)c(t,n)}function c(n,t){d[n]=d[n].filter(function(n){return n!==t})}function a(n){for(var t in n)s[t]=n[t]}var s={},p={},d={},l={};return a(n),s.when=t,s.removeListener=u,s.on=r,s.off=c,s.set=a,s}"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof exports?module.exports=n:this.Model=n}();